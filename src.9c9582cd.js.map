{"version":3,"sources":["js/apiService.js","js/main.js","index.js"],"names":["ApiService","constructor","searchQuery","page","fetchImages","console","log","url","fetch","then","result","json","data","resetPage","query","newQuery","refs","formSearch","document","querySelector","containerGallery","btnLoadMore","apiService","onSubmit","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";;;AAAgC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAjB,MAAMA,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGdC,cACEC,QAAQC,IAAI,MACNC,MAAAA,uEAA2E,KAAKL,gCAAgC,KAAKC,OAC3HK,MAAMD,GACHE,KAAKC,GAAUA,EAAOC,QACtBF,KAAKG,GAAS,KAAKT,MAAQ,GAGhCU,YACOV,KAAAA,KAAO,EAGVW,YACK,OAAA,KAAKZ,YAGVY,UAAMC,GACA,OAAA,KAAKb,YAAca,GAvBC,QAAA,QAAA;;ACwB/B,aAxBD,IAAA,EAAA,EAAA,QAAA,iBAwBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtBD,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,iBAAkBF,SAASC,cAAc,eACzCE,YAAaH,SAASC,cAAc,6BAGhCG,EAAa,IAAItB,EAAJ,QAMnB,SAASuB,EAASC,GAChBA,EAAEC,iBAEFH,EAAWR,MAAQU,EAAEE,cAAcC,SAASb,MAAMc,MAClDN,EAAWT,YACXS,EAAWlB,cAGb,SAASyB,IACPP,EAAWlB,cAbbY,EAAKC,WAAWa,iBAAiB,SAAUP,GAE3CP,EAAKK,YAAYS,iBAAiB,QAASD;;ACX3C,aADA,QAAA,oBACA,QAAA","file":"src.9c9582cd.js","sourceRoot":"../src","sourcesContent":["export default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    console.log(this);\n    const url = `https://pixabay.com/api/?key=22136016-e39418b2246c5d0d9deda411e&q=${this.searchQuery}&per_page=12&page=${this.page}`;\n    fetch(url)\n      .then(result => result.json())\n      .then(data => (this.page += 1));\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    return (this.searchQuery = newQuery);\n  }\n}\n","import ApiService from './apiService';\n\nconst refs = {\n  formSearch: document.querySelector('.search-form'),\n  containerGallery: document.querySelector('.js-gallery'),\n  btnLoadMore: document.querySelector('[data-value=\"load-more\"]'),\n};\n\nconst apiService = new ApiService();\n\nrefs.formSearch.addEventListener('submit', onSubmit);\n\nrefs.btnLoadMore.addEventListener('click', onLoadMore);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  apiService.query = e.currentTarget.elements.query.value;\n  apiService.resetPage();\n  apiService.fetchImages();\n}\n\nfunction onLoadMore() {\n  apiService.fetchImages();\n}\n","import './sass/main.scss';\nimport './js/main';\n"]}